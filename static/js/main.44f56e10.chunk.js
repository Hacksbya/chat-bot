(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){},13:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(2),c=a.n(o);a(12);var l=function(){const[e,t]=Object(n.useState)(""),[a,o]=Object(n.useState)(()=>{const e=localStorage.getItem("chatMessages");return e?JSON.parse(e):[]}),[c,l]=Object(n.useState)(()=>"dark"===localStorage.getItem("theme")),[s,m]=Object(n.useState)(()=>localStorage.getItem("chatPersona")||""),[i,u]=Object(n.useState)(!1),d=Object(n.useRef)(null),p=Object(n.useRef)(null);Object(n.useEffect)(()=>{localStorage.setItem("chatMessages",JSON.stringify(a))},[a]),Object(n.useEffect)(()=>{d.current&&d.current.scrollIntoView({behavior:"smooth"})},[a]);const h=async()=>{if(!e.trim())return;const n={type:"human",content:e},r=[...a,n];o(r),t("");try{const t=await fetch("http://localhost:5000/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:e})});if(!t.ok)throw new Error("Network response was not ok");const a=await t.json();o(a.history)}catch(c){console.error("Error sending message:",c),o([...r,{type:"bot",content:"Sorry, there was an error processing your request. Please try again."}])}},g=e=>{m(e),localStorage.setItem("chatPersona",e),u(!1),E(e)},E=async e=>{try{await fetch("http://localhost:5000/update-persona",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({persona:e})})}catch(t){console.error("Error updating persona:",t)}},y=e=>e.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/```([\s\S]*?)```/g,"<pre><code>$1</code></pre>").replace(/`([^`]+)`/g,"<code>$1</code>").replace(/^\s*\*\s(.*)$/gm,"<li>$1</li>").replace(/^\s*\d+\.\s(.*)$/gm,"<li>$1</li>").replace(/<li>(.*?)<\/li>/g,"<ul><li>$1</li></ul>").replace(/\n/g,"<br>");return r.a.createElement("div",{className:"app ".concat(c?"dark":"light")},r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"logo"},r.a.createElement("div",{className:"logo-icon"}),r.a.createElement("h1",null,"myBot")),r.a.createElement("div",{className:"header-actions"},r.a.createElement("button",{onClick:()=>u(!0),className:"persona-btn"},s?"\ud83d\udc64 ".concat(s):"\u2795 Add Persona"),r.a.createElement("button",{onClick:async()=>{try{await fetch("http://localhost:5000/clear-chat",{method:"POST",headers:{"Content-Type":"application/json"}}),o([]),localStorage.removeItem("chatMessages")}catch(e){console.error("Error clearing chat:",e)}},className:"new-chat-btn"},"New Chat"),r.a.createElement("button",{onClick:()=>{const e=!c;l(e),localStorage.setItem("theme",e?"dark":"light"),document.documentElement.classList.toggle("dark",e)},className:"toggle-btn"},c?"\u2600\ufe0f":"\ud83c\udf19"))),i&&r.a.createElement("div",{className:"modal-overlay"},r.a.createElement("div",{className:"modal"},r.a.createElement("h2",null,"Set Your Name"),r.a.createElement("input",{type:"text",placeholder:"Enter your name",defaultValue:s,onKeyDown:e=>{"Enter"===e.key&&g(e.target.value)}}),r.a.createElement("div",{className:"modal-actions"},r.a.createElement("button",{onClick:()=>u(!1)},"Cancel"),r.a.createElement("button",{onClick:e=>g(e.target.previousSibling.value)},"Save")))),r.a.createElement("div",{className:"chat-container"},r.a.createElement("div",{className:"chat-box",ref:p},0===a.length&&r.a.createElement("div",{className:"empty-state"},r.a.createElement("div",{className:"welcome-message"},r.a.createElement("h2",null,"Welcome to Chat-Bot"),r.a.createElement("p",null,"Start a conversation by entering a prompt!"))),a.map((e,t)=>r.a.createElement("div",{key:t,className:"msg ".concat("human"===e.type?"human":"bot")},"human"===e.type?r.a.createElement("div",{className:"avatar user-avatar"},s?s[0].toUpperCase():"\ud83d\udc64"):r.a.createElement("div",{className:"avatar bot-avatar"},"\ud83e\udd16"),r.a.createElement("div",{className:"msg-bubble"},r.a.createElement("div",{className:"msg-content",dangerouslySetInnerHTML:{__html:y(e.content)}})))),r.a.createElement("div",{ref:d}))),r.a.createElement("div",{className:"input-container"},r.a.createElement("div",{className:"input-box"},r.a.createElement("textarea",{value:e,onChange:e=>t(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),h())},placeholder:"Type your message...",rows:1}),r.a.createElement("button",{onClick:h,className:"send-btn"},r.a.createElement("svg",{viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},r.a.createElement("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),r.a.createElement("polygon",{points:"22 2 15 22 11 13 2 9 22 2"}))))))};a(13);const s=document.getElementById("root");c.a.createRoot(s).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l,null)))},3:function(e,t,a){e.exports=a(14)}},[[3,1,2]]]);
//# sourceMappingURL=main.44f56e10.chunk.js.map